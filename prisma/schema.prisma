generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model activity {
  user_id String          @id
  state   activity_state?
}

model feed {
  user_id   String    @id
  feed_id   String?   @unique
  username  String?
  message   String?
  timestamp DateTime?
}

model integrations {
  user_id       String                      @id
  platform      String?
  accountName   String?
  accountURL    String?
  showOnProfile integrations_showOnProfile?
}

model subscription_manager {
  creator_id    String
  viewer_id     String
  subscribed_at DateTime?

  @@id([creator_id, viewer_id])
}

model users {
  user_id      String            @id
  photo        String?
  username     String            @unique
  domain       String            @unique
  password     String
  created_at   DateTime
  phone        String?
  email        String?
  tags         String?
  description  String?
  viewers      Int?              @default(0)
  subscription Int?              @default(0)
  vods         Int?              @default(0)
  channelInfo  users_channelInfo
  state        users_state
}

model view_vod {
  viewer_id String
  vod_id    String

  @@id([viewer_id, vod_id])
}

model vods {
  user_id      String
  vod_id       String    @unique
  title        String?
  thumbnail    String?
  views        Int?      @default(0)
  published_at DateTime?
  type         String?
  platform     String?
  url          String?

  @@id([user_id, vod_id])
}

enum activity_state {
  offline
  online
  STREAMING
  LISTENING
  PLAYING
  CHATTING
}

enum integrations_showOnProfile {
  true
  false
}

enum users_channelInfo {
  banned
  standard
  premium
}

enum users_state {
  offline
  online
  STREAMING
  CHATTING
  PLAYING
  LISTENING
}
